<%namespace name='static' file='static_content.html'/>
<%namespace file='main.html' import="login_query"/>
<%!
from django.core.urlresolvers import reverse
from django.utils.translation import ugettext as _

from lms.djangoapps.ccx.overrides import get_current_ccx
from openedx.core.djangolib.markup import HTML, Text

# App that handles subdomain specific branding
from branding import api as branding_api
# app that handles site status messages
from status.status import get_site_status_msg
from openedx.core.djangoapps.lang_pref.api import header_language_selector_is_enabled, released_languages
%>

<div class="sidebar-nav">
  <ul class="sidebar-list">
    % if not user.is_authenticated():   

        <%block name="navigation_sign_in">
          <li class="sidebar-item hidden-sm hidden-md hidden-lg">
            % if not settings.FEATURES['DISABLE_LOGIN_BUTTON']:
              % if course and settings.FEATURES.get('RESTRICT_ENROLL_BY_REG_METHOD') and course.enrollment_domain:
                <a class="btn btn-login" href="${reverse('course-specific-login', args=[course.id.to_deprecated_string()])}${login_query()}">${_("Sign in")}</a>
              % else:
                <a class="btn btn-login" href="/login${login_query()}">${_("Sign in")}</a>
              % endif
            % endif
          </li>
        </%block>
        <%block name="navigation_register">
            % if not settings.FEATURES['DISABLE_LOGIN_BUTTON']:
              % if course and settings.FEATURES.get('RESTRICT_ENROLL_BY_REG_METHOD') and course.enrollment_domain:
                <li class="sidebar-item hidden-sm hidden-md hidden-lg">
                  <a class="btn-orange" href="${reverse('course-specific-register', args=[course.id.to_deprecated_string()])}">${_("Register")}</a>
                </li>
              % elif static.get_value('ALLOW_PUBLIC_ACCOUNT_CREATION', settings.FEATURES.get('ALLOW_PUBLIC_ACCOUNT_CREATION')):
                <li class="sidebar-item hidden-sm hidden-md hidden-lg">
                  <a class="btn-orange" href="/register${login_query()}">${_("Register")}</a>
                </li>
              % endif
            % endif
        </%block>

        <li class="sidebar-item sidebar-divider hidden-sm hidden-md hidden-lg"><hr></li> 

    % endif

    <%block name="navigation_global_links">
        <li class="sidebar-item">
            <a href="${marketing_link('COURSES')}">Courses</a>
        </li>
        <li class="sidebar-item">
            <a href="${marketing_link('ABOUT')}">About</a>
        </li>
        <li class="sidebar-item">
            <a href="${marketing_link('LECTURERS')}">Lecturers</a>
        </li>
        <li class="sidebar-item">
            <a href="${marketing_link('MEMBERS')}">Members</a>
        </li>
        <li class="sidebar-item">
            <a href="${settings.EXTERNAL_BLOG_URL}">Blog</a>
        </li>
        % if user.is_authenticated():
        <%block name="navigation_global_links_authenticated">
            %if settings.FEATURES.get('ENABLE_SYSADMIN_DASHBOARD','') and user.is_staff:
            <li class="sidebar-item">
                <a href="${reverse('sysadmin')}">Sysadmin</a>
            </li>
            % endif
        </%block>
        % endif
    </%block>
  </ul>

</div>
<script type="text/javascript" src="${static.url('js/sidebar_nav.js')}"></script>